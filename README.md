# hlib-get
[黄图书馆](https://hlib.cc/)的小说章节文本获取js脚本。
可以先创建两个书签，名称一个为`get-text`，另一个为`editor`。

url分别为

`get-text`：
```
javascript:"use strict";const h3Element=document.querySelector("h3.text-center.m-3"),h3Text=h3Element?h3Element.innerText.trim():%22%22,colLg9Element=document.querySelector(%22.col-lg-9.mt-3%22);let%20pTexts=[];if(colLg9Element){const%20pElements=colLg9Element.querySelectorAll(%22p%22);pElements.forEach(p=%3E{pTexts.push(p.innerText.trim())})}const%20combinedText=[h3Text,...pTexts].join(%22\n\n%22),copyButton=document.createElement(%22button%22);copyButton.innerText=%22\u590D\u5236\u5185\u5BB9\u5230\u526A\u8D34\u677F%22,copyButton.style.position=%22fixed%22,copyButton.style.top=%2210px%22,copyButton.style.left=%2250%%22,copyButton.style.transform=%22translateX(-50%)%22,copyButton.style.padding=%2210px%2020px%22,copyButton.style.zIndex=%221000%22,copyButton.addEventListener(%22click%22,()=%3E{navigator.clipboard.writeText(combinedText).then(()=%3E{console.log(%22\u5185\u5BB9\u5DF2\u590D\u5236\u5230\u526A\u8D34\u677F%22)}).catch(err=%3E{console.error(%22\u590D\u5236\u5931\u8D25\uFF1A%22,err)})}),document.body.appendChild(copyButton);
```

`editor`:

```
javascript:"use strict";const newTab=window.open("about:blank","_blank");if(newTab){const htmlContent=`    <html>      <head>        <title>%E7%BC%96%E8%BE%91%E5%99%A8</title>        <meta name="viewport" content="width=device-width, initial-scale=1">        <style>          body {            font-family: 'Arial', sans-serif;            margin: 0;            padding: 0;            background: #f0f0f0;%20/*%20%E6%B5%85%E7%81%B0%E8%89%B2%E8%83%8C%E6%99%AF%20*/%20%20%20%20%20%20%20%20%20%20%20%20color:%20#333;%20/*%20%E6%B7%B1%E7%81%B0%E8%89%B2%E6%96%87%E6%9C%AC%20*/%20%20%20%20%20%20%20%20%20%20%20%20text-align:%20center;%20%20%20%20%20%20%20%20%20%20}%20%20%20%20%20%20%20%20%20%20h2%20{%20%20%20%20%20%20%20%20%20%20%20%20margin-top:%2020px;%20%20%20%20%20%20%20%20%20%20}%20%20%20%20%20%20%20%20%20%20textarea%20{%20%20%20%20%20%20%20%20%20%20%20%20width:%2090%;%20/*%20%E8%AE%A9%20textarea%20%E6%9B%B4%E5%AE%BD%20*/%20%20%20%20%20%20%20%20%20%20%20%20height:%20100%;%20%20%20%20%20%20%20%20%20%20%20%20margin:%2020px%200;%20%20%20%20%20%20%20%20%20%20%20%20padding:%2010px;%20%20%20%20%20%20%20%20%20%20%20%20border:%201px%20solid%20#ccc;%20%20%20%20%20%20%20%20%20%20%20%20border-radius:%205px;%20%20%20%20%20%20%20%20%20%20%20%20background:%20#fff;%20%20%20%20%20%20%20%20%20%20}%20%20%20%20%20%20%20%20%20%20button%20{%20%20%20%20%20%20%20%20%20%20%20%20padding:%2010px%2020px;%20%20%20%20%20%20%20%20%20%20%20%20border:%20none;%20%20%20%20%20%20%20%20%20%20%20%20border-radius:%205px;%20%20%20%20%20%20%20%20%20%20%20%20background:%20#333;%20%20%20%20%20%20%20%20%20%20%20%20color:%20#fff;%20%20%20%20%20%20%20%20%20%20%20%20font-size:%2016px;%20%20%20%20%20%20%20%20%20%20%20%20cursor:%20pointer;%20%20%20%20%20%20%20%20%20%20%20%20transition:%20background%200.3s;%20%20%20%20%20%20%20%20%20%20}%20%20%20%20%20%20%20%20%20%20button:hover%20{%20%20%20%20%20%20%20%20%20%20%20%20background:%20#555;%20/*%20%E9%BC%A0%E6%A0%87%E6%82%AC%E5%81%9C%E6%97%B6%E6%94%B9%E5%8F%98%E8%83%8C%E6%99%AF%20*/%20%20%20%20%20%20%20%20%20%20}%20%20%20%20%20%20%20%20%3C/style%3E%20%20%20%20%20%20%3C/head%3E%20%20%20%20%20%20%3Cbody%3E%20%20%20%20%20%20%20%20%3Ctextarea%20id=%22editor%22%20placeholder=%22%E5%9C%A8%E8%BF%99%E9%87%8C%E8%BE%93%E5%85%A5%E6%96%87%E6%9C%AC...%22%3E%3C/textarea%3E%20%20%20%20%20%20%20%20%3Cbr%3E%20%20%20%20%20%20%20%20%3Cbutton%20id=%22saveButton%22%3E%E4%BF%9D%E5%AD%98%E4%B8%BA%20TXT%3C/button%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cscript%3E%20%20%20%20%20%20%20%20%20%20//%20%E5%87%BD%E6%95%B0%EF%BC%9A%E4%BF%9D%E5%AD%98%E6%96%87%E6%9C%AC%E5%86%85%E5%AE%B9%E5%88%B0%E6%96%87%E4%BB%B6%20%20%20%20%20%20%20%20%20%20function%20saveTextContent()%20{%20%20%20%20%20%20%20%20%20%20%20%20const%20textContent%20=%20document.getElementById('editor').value;%20%20%20%20%20%20%20%20%20%20%20%20const%20fileName%20=%20prompt(%22%E8%AF%B7%E8%BE%93%E5%85%A5%E4%BF%9D%E5%AD%98%E7%9A%84%E6%96%87%E4%BB%B6%E5%90%8D%EF%BC%88%E4%B8%8D%E5%8C%85%E6%8B%AC%E5%90%8E%E7%BC%80%EF%BC%89%22,%20%22Unknow%22);%20%20%20%20%20%20%20%20%20%20%20%20if%20(fileName%20===%20null)%20{%20%20%20%20%20%20%20%20%20%20%20%20%20%20return;%20%20%20%20%20%20%20%20%20%20%20%20}%20%20%20%20%20%20%20%20%20%20%20%20const%20blob%20=%20new%20Blob([textContent],%20{%20type:%20'text/plain;charset=utf-8'%20});%20%20%20%20%20%20%20%20%20%20%20%20const%20downloadLink%20=%20document.createElement('a');%20%20%20%20%20%20%20%20%20%20%20%20downloadLink.href%20=%20window.URL.createObjectURL(blob);%20%20%20%20%20%20%20%20%20%20%20%20downloadLink.download%20=%20fileName%20+%20%22.txt%22;%20//%20%E7%94%9F%E6%88%90%E6%96%87%E4%BB%B6%20%20%20%20%20%20%20%20%20%20%20%20downloadLink.click();%20//%20%E5%90%AF%E5%8A%A8%E4%B8%8B%E8%BD%BD%20%20%20%20%20%20%20%20%20%20}%20%20%20%20%20%20%20%20%20%20document.getElementById('saveButton').addEventListener('click',%20saveTextContent);%20%20%20%20%20%20%20%20%20%20document.addEventListener('keydown',%20function(event)%20{%20%20%20%20%20%20%20%20%20%20%20%20if%20(event.ctrlKey%20&&%20(event.key%20===%20's'%20||%20event.keyCode%20===%2083))%20{%20%20%20%20%20%20%20%20%20%20%20%20%20%20event.preventDefault();%20//%20%E9%98%BB%E6%AD%A2%E9%BB%98%E8%AE%A4%E4%BF%9D%E5%AD%98%E8%A1%8C%E4%B8%BA%20%20%20%20%20%20%20%20%20%20%20%20%20%20saveTextContent();%20//%20%E8%A7%A6%E5%8F%91%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BF%9D%E5%AD%98%20%20%20%20%20%20%20%20%20%20%20%20}%20%20%20%20%20%20%20%20%20%20});%20%20%20%20%20%20%20%20%3C/script%3E%20%20%20%20%20%20%3C/body%3E%20%20%20%20%3C/html%3E%20%20%60;newTab.document.write(%22\n%20%20%20%20%3Chtml%3E\n%20%20%20%20%20%20%3Chead%3E\n%20%20%20%20%20%20%20%20%3Ctitle%3E\u7F16\u8F91\u5668%3C/title%3E\n%20%20%20%20%20%20%20%20%3Cmeta%20name=\%22viewport\%22%20content=\%22width=device-width,%20initial-scale=1\%22%3E\n%20%20%20%20%20%20%20%20%3Cstyle%3E\n%20%20%20%20%20%20%20%20%20%20body%20{\n%20%20%20%20%20%20%20%20%20%20%20%20font-family:%20'Arial',%20sans-serif;\n%20%20%20%20%20%20%20%20%20%20%20%20margin:%200;\n%20%20%20%20%20%20%20%20%20%20%20%20padding:%200;\n%20%20%20%20%20%20%20%20%20%20%20%20background:%20#f0f0f0;%20/*%20\u6D45\u7070\u8272\u80CC\u666F%20*/\n%20%20%20%20%20%20%20%20%20%20%20%20color:%20#333;%20/*%20\u6DF1\u7070\u8272\u6587\u672C%20*/\n%20%20%20%20%20%20%20%20%20%20%20%20text-align:%20center;\n%20%20%20%20%20%20%20%20%20%20}\n%20%20%20%20%20%20%20%20%20%20h2%20{\n%20%20%20%20%20%20%20%20%20%20%20%20margin-top:%2020px;\n%20%20%20%20%20%20%20%20%20%20}\n%20%20%20%20%20%20%20%20%20%20textarea%20{\n%20%20%20%20%20%20%20%20%20%20%20%20width:%2090%;%20/*%20\u8BA9%20textarea%20\u66F4\u5BBD%20*/\n%20%20%20%20%20%20%20%20%20%20%20%20height:%20100%;\n%20%20%20%20%20%20%20%20%20%20%20%20margin:%2020px%200;\n%20%20%20%20%20%20%20%20%20%20%20%20padding:%2010px;\n%20%20%20%20%20%20%20%20%20%20%20%20border:%201px%20solid%20#ccc;\n%20%20%20%20%20%20%20%20%20%20%20%20border-radius:%205px;\n%20%20%20%20%20%20%20%20%20%20%20%20background:%20#fff;\n%20%20%20%20%20%20%20%20%20%20}\n%20%20%20%20%20%20%20%20%20%20button%20{\n%20%20%20%20%20%20%20%20%20%20%20%20padding:%2010px%2020px;\n%20%20%20%20%20%20%20%20%20%20%20%20border:%20none;\n%20%20%20%20%20%20%20%20%20%20%20%20border-radius:%205px;\n%20%20%20%20%20%20%20%20%20%20%20%20background:%20#333;\n%20%20%20%20%20%20%20%20%20%20%20%20color:%20#fff;\n%20%20%20%20%20%20%20%20%20%20%20%20font-size:%2016px;\n%20%20%20%20%20%20%20%20%20%20%20%20cursor:%20pointer;\n%20%20%20%20%20%20%20%20%20%20%20%20transition:%20background%200.3s;\n%20%20%20%20%20%20%20%20%20%20}\n%20%20%20%20%20%20%20%20%20%20button:hover%20{\n%20%20%20%20%20%20%20%20%20%20%20%20background:%20#555;%20/*%20\u9F20\u6807\u60AC\u505C\u65F6\u6539\u53D8\u80CC\u666F%20*/\n%20%20%20%20%20%20%20%20%20%20}\n%20%20%20%20%20%20%20%20%3C/style%3E\n%20%20%20%20%20%20%3C/head%3E\n%20%20%20%20%20%20%3Cbody%3E\n%20%20%20%20%20%20%20%20%3Ctextarea%20id=\%22editor\%22%20placeholder=\%22\u5728\u8FD9\u91CC\u8F93\u5165\u6587\u672C...\%22%3E%3C/textarea%3E\n%20%20%20%20%20%20%20%20%3Cbr%3E\n%20%20%20%20%20%20%20%20%3Cbutton%20id=\%22saveButton\%22%3E\u4FDD\u5B58\u4E3A%20TXT%3C/button%3E\n%20%20%20%20%20%20%20%20\n%20%20%20%20%20%20%20%20%3Cscript%3E\n%20%20%20%20%20%20%20%20%20%20//%20\u51FD\u6570\uFF1A\u4FDD\u5B58\u6587\u672C\u5185\u5BB9\u5230\u6587\u4EF6\n%20%20%20%20%20%20%20%20%20%20function%20saveTextContent()%20{\n%20%20%20%20%20%20%20%20%20%20%20%20const%20textContent%20=%20document.getElementById('editor').value;\n%20%20%20%20%20%20%20%20%20%20%20%20const%20fileName%20=%20prompt(\%22\u8BF7\u8F93\u5165\u4FDD\u5B58\u7684\u6587\u4EF6\u540D\uFF08\u4E0D\u5305\u62EC\u540E\u7F00\uFF09\%22,%20\%22Unknow\%22);\n\n%20%20%20%20%20%20%20%20%20%20%20%20if%20(fileName%20===%20null)%20{\n%20%20%20%20%20%20%20%20%20%20%20%20%20%20return;\n%20%20%20%20%20%20%20%20%20%20%20%20}\n\n%20%20%20%20%20%20%20%20%20%20%20%20const%20blob%20=%20new%20Blob([textContent],%20{%20type:%20'text/plain;charset=utf-8'%20});\n%20%20%20%20%20%20%20%20%20%20%20%20const%20downloadLink%20=%20document.createElement('a');\n%20%20%20%20%20%20%20%20%20%20%20%20downloadLink.href%20=%20window.URL.createObjectURL(blob);\n%20%20%20%20%20%20%20%20%20%20%20%20downloadLink.download%20=%20fileName%20+%20\%22.txt\%22;%20//%20\u751F\u6210\u6587\u4EF6\n%20%20%20%20%20%20%20%20%20%20%20%20downloadLink.click();%20//%20\u542F\u52A8\u4E0B\u8F7D\n%20%20%20%20%20%20%20%20%20%20}\n\n%20%20%20%20%20%20%20%20%20%20document.getElementById('saveButton').addEventListener('click',%20saveTextContent);\n\n%20%20%20%20%20%20%20%20%20%20document.addEventListener('keydown',%20function(event)%20{\n%20%20%20%20%20%20%20%20%20%20%20%20if%20(event.ctrlKey%20&&%20(event.key%20===%20's'%20||%20event.keyCode%20===%2083))%20{\n%20%20%20%20%20%20%20%20%20%20%20%20%20%20event.preventDefault();%20//%20\u963B\u6B62\u9ED8\u8BA4\u4FDD\u5B58\u884C\u4E3A\n%20%20%20%20%20%20%20%20%20%20%20%20%20%20saveTextContent();%20//%20\u89E6\u53D1\u81EA\u5B9A\u4E49\u4FDD\u5B58\n%20%20%20%20%20%20%20%20%20%20%20%20}\n%20%20%20%20%20%20%20%20%20%20});\n%20%20%20%20%20%20%20%20%3C/script%3E\n%20%20%20%20%20%20%3C/body%3E\n%20%20%20%20%3C/html%3E\n%20%20%22),newTab.document.close()}
```

然后打开你想要看得小说网页（不是章节列表页，而是章节正文页）。

点击`get-text`这个书签。

然后网页上方会有一个复制按钮，点击它。

再点击`editor`这个书签。

会在新标签页打开一个文本编辑器，按下`Ctrl` + `V`复制键复制拷贝的小说内容
